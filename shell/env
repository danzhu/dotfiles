# -*- mode: sh -*-

has() {
    type "$1" &> /dev/null
}

if has emacs; then
    export EDITOR='emacs -nw'
    export GEDITOR=emacs
elif has vim; then
    export EDITOR=vim
    export GEDITOR=gvim
fi

if has rofi; then
    export RUNNER='rofi -show run'
    export LAUNCHER='rofi -show drun -show-icons'
    export SWITCHER='rofi -show window -show-icons'
else
    if has dmenu_run; then
        export RUNNER=dmenu_run
    fi
    if has dmenu && has i3-dmenu-desktop; then
        export LAUNCHER=i3-dmenu-desktop
    fi
fi

for terminal in termite gnome-terminal konsole urxvt xterm; do
    if has $terminal; then
        export TERMINAL=$terminal
        break
    fi
done

for browser in chromium chromium-browser google-chrome firefox; do
    if has $browser; then
        export BROWSER=$browser
        break
    fi
done

if [[ -f $DOT/shell/env.local ]]; then
    source $DOT/shell/env.local
fi

unset -f has

# vim: ft=sh
