# -*- mode: sh -*-

has() {
    type "$1" &> /dev/null
}

export LSCOLORS='ExGxBxDxCxEgEdxbxgxcxd'
export LS_COLORS='di=1;34:ln=1;36:so=1;31:pi=1;33:ex=1;32:bd=1;34;46:cd=1;34;43:su=0;41:sg=0;46:tw=0;42:ow=0;43'

if has emacs; then
    export EDITOR='emacs -nw'
    export GEDITOR=emacs
elif has vim; then
    export EDITOR=vim
    if has gvim; then
        export GEDITOR=gvim
    fi
fi

if has rofi; then
    export RUNNER='rofi -show run'
    export LAUNCHER='rofi -show drun -show-icons'
    export SWITCHER='rofi -show window -show-icons'
else
    if has dmenu_run; then
        export RUNNER=dmenu_run
    fi
    if has dmenu && has i3-dmenu-desktop; then
        export LAUNCHER=i3-dmenu-desktop
    fi
fi

if has qt5ct; then
    export QT_QPA_PLATFORMTHEME=qt5ct
fi

for terminal in termite gnome-terminal konsole urxvt xterm; do
    if has $terminal; then
        export TERMINAL=$terminal
        break
    fi
done

for browser in chromium chromium-browser google-chrome firefox; do
    if has $browser; then
        export BROWSER=$browser
        break
    fi
done

if [[ -f $DOT/shell/env.local ]]; then
    source $DOT/shell/env.local
fi

unset -f has

# vim: ft=sh
