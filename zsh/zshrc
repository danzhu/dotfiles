# -*- mode: sh -*-

# --- history ---
setopt appendhistory histignorealldups sharehistory

HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000


# --- directory ---
setopt autocd autopushd pushdsilent


# --- help ---
autoload -Uz run-help
if (( $+aliases[run-help] )); then
    unalias run-help
fi
alias help='run-help'


# --- common ---
source ~/.dotfiles/common/aliases
source ~/.dotfiles/common/functions


# --- customizations ---
source ~/.dotfiles/zsh/title.zsh
source ~/.dotfiles/zsh/prompt.zsh
source ~/.dotfiles/zsh/aliases.zsh
source ~/.dotfiles/zsh/keybinds.zsh
source ~/.dotfiles/zsh/completion.zsh


# --- freeze tty ---
ttyctl -f


# --- plugins ---
function plug() {
    local plugin="zsh/plugins/$1"
    if [[ -r "$HOME/share/$plugin" ]]; then
        source "$HOME/share/$plugin"
    elif [[ -r "/usr/share/$plugin" ]]; then
        source "/usr/share/$plugin"
    fi
}

ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets)
plug "zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"

unfunction plug
